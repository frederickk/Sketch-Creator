var FDrop=function(e,t){function f(e){if(window.File&&window.FileReader&&window.FileList&&window.Blob){function t(e){e.stopPropagation();e.preventDefault()}function n(e){e.stopPropagation();e.preventDefault();e.dataTransfer.dropEffect="copy"}function r(e){e.stopPropagation();e.preventDefault();m(e.dataTransfer.files)}function i(e){}e=e||document.body;e.addEventListener("dragenter",t,false);e.addEventListener("dragover",n,false);e.addEventListener("drop",r,false);e.addEventListener("ondrop",i,false)}else{alert("Drag and drop is not fully supported in this browser.")}}function l(e,t){d(e,t);p(e,t);v(e,t);if(a){t.isDirectory=true}}function c(t){if(t.length>1){s=[];for(var n=0;n<t.length;n++){var i=t[n];s.push(Object.create(r));s[n].id=e.id;s[n].isFileList=true;s[n].filename=i.name;s[n].size=i.size;s[n].files.push(i.name);l(i,s[n])}}else{s=Object.create(r);s.id=e.id;s.filename=t.name;s.size=t.size;l(t,s)}return s}function h(){u=document.createElement("div");u.id="progressBar";u.style.position="absolute";u.style.top="0px";u.style.left="0px";u.style.width="0px";u.style.height="18px";u.style.background="rgba(0, 255, 170, 0.3)";u.style.color="rgba(255, 255, 255, 0.9)";u.style.paddingLeft="6px";u.style.paddingTop="3px";u.style.zIndex="2000";document.body.appendChild(u)}function p(e,t){var n=new FileReader;n.onload=function(e){t.text=n.result;t.isFile=true};n.onprogress=g;n.onerror=b;n.readAsText(e)}function d(e,t){if(e.type.match(n.image)){var r=new FileReader;r.onload=function(e){var n=new Image;n.src=r.result;t.file=n;t.isImage=true};r.onprogress=g;r.onerror=b;r.readAsDataURL(e)}}function v(e,t){var n=new FileReader;n.onload=function(e){t.data=n.result};n.onprogress=g;n.onloadend=y;n.readAsBinaryString(e)}function m(e){if(e!=null){h();if(e.length===1){e=e[0];o=e.size}else{for(var t=0;t<e.length;t++){o+=e[t].size}}return c(e)}}function g(e){totalLoad=Math.ceil(e.loaded/o*100);u.style.width=(totalLoad+"%").toString();u.innerHTML=(totalLoad+"%").toString()}function y(e){if(totalLoad>=98){onDrop(s);document.body.removeChild(u)}}function b(e){a=true}var n={text:/text.*/,image:/image.*/,application:/application.*/};var r={id:"",isImage:false,isFile:false,isFileList:false,isDirectory:false,filename:"",data:"",size:0,text:"",file:"",files:[]};var i,s;var o=totalLoad=0;var u;var a=false;f(e);return{target:e,event:s,read:m}}