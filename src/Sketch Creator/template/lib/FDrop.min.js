var FDrop=function(e,t){function f(e){e=e||document.body;e.addEventListener("dragenter",onDragEnterEvent,false);e.addEventListener("dragover",onDragOverEvent,false);e.addEventListener("drop",onDropEvent,false)}function l(e,t){d(e,t);p(e,t);v(e,t);if(a){t.isDirectory=true}}function c(e){if(e.length>1){s=[];for(var t=0;t<e.length;t++){var n=e[t];s.push(Object.create(r));s[t].isFileList=true;s[t].filename=n.name;s[t].size=n.size;s[t].files.push(n.name);l(n,s[t])}}else{s=Object.create(r);s.filename=e.name;s.size=e.size;l(e,s)}return s}function h(){u=document.createElement("div");u.id="progressBar";u.style.position="absolute";u.style.top="0px";u.style.left="0px";u.style.width="0px";u.style.height="18px";u.style.background="rgba(0, 255, 170, 0.3)";u.style.color="rgba(255, 255, 255, 0.9)";u.style.paddingLeft="6px";u.style.paddingTop="3px";u.style.zIndex="2000";document.body.appendChild(u)}function p(e,t){var n=new FileReader;n.onload=function(e){t.text=n.result;t.isFile=true};n.onprogress=g;n.onerror=b;n.readAsText(e)}function d(e,t){if(e.type.match(n.image)){var r=new FileReader;r.onload=function(e){var n=new Image;n.src=r.result;t.file=n;t.isImage=true};r.onprogress=g;r.onerror=b;r.readAsDataURL(e)}}function v(e,t){var n=new FileReader;n.onload=function(e){t.data=n.result};n.onprogress=g;n.onloadend=y;n.readAsBinaryString(e)}function m(e){if(e!=null){h();if(e.length===1){e=e[0];o=e.size}else{for(var t=0;t<e.length;t++){o+=e[t].size}}return c(e)}}function g(e){totalLoad=Math.ceil(e.loaded/o*100);u.style.width=(totalLoad+"%").toString();u.innerHTML=(totalLoad+"%").toString()}function y(e){if(totalLoad>=98){onDrop(s);document.body.removeChild(u)}}function b(e){a=true}var n={text:/text.*/,image:/image.*/,application:/application.*/};var r={isImage:false,isFile:false,isFileList:false,isDirectory:false,filename:"",data:"",size:0,text:"",file:"",files:[]};var i,s;var o=totalLoad=0;var u;var a=false;f(e);return{target:e,event:s,read:m}};if(window.File&&window.FileReader&&window.FileList&&window.Blob){var fdrop=new FDrop;function onDragEnterEvent(e){e.stopPropagation();e.preventDefault()}function onDragOverEvent(e){e.stopPropagation();e.preventDefault();e.dataTransfer.dropEffect="copy"}function onDropEvent(e){e.stopPropagation();e.preventDefault();fdrop.read(e.dataTransfer.files)}}else{alert("Drag and drop is not fully supported in this browser.")}